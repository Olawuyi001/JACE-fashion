<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Collections â€” JACE VOGUE</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { overflow-x:hidden; -webkit-overflow-scrolling:touch; }
    body {
      font-family: 'Playfair Display', serif;
      background:#000;
      color:#fff;
      font-size:16px;
      line-height:1.6;
    }
    .container { max-width:1400px; margin:0 auto; padding:0 15px; }

    header {
      position:fixed; top:0; left:0; width:100%;
      padding:0.8rem 0; z-index:100;
      background:rgba(0,0,0,0.65);
      backdrop-filter:blur(15px);
      transition:background 0.4s;
    }
    header.scrolled { background:rgba(0,0,0,0.95); }

    nav {
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    .brand-text {
      font-size:1.45rem;
      font-weight:900;
      letter-spacing:5px;
      color:#fff;
      cursor:pointer;
    }
    .brand-text:hover { color:#eee; }

    .nav-links {
      display:flex;
      align-items:center;
      gap:1.6rem;
    }
    .nav-links a {
      color:#fff;
      text-decoration:none;
      font-size:0.95rem;
      transition:color 0.25s;
    }
    .nav-links a:hover { color:#ddd; }

    .back-home-link {
      color: #ccc;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 30px;
      transition: all 0.3s;
      background: rgba(255,255,255,0.08);
    }
    .back-home-link:hover {
      color: white;
      background: rgba(255,255,255,0.18);
    }

    .nav-icon {
      font-size:1.45rem;
      cursor:pointer;
      color:#fff;
      position:relative;
    }
    .badge {
      position:absolute; top:-10px; right:-10px;
      background:#ff4d4d; color:white; font-size:0.68rem;
      min-width:18px; height:18px; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
    }
    .badge.hidden { display:none; }

    .hamburger { display:none; font-size:1.8rem; cursor:pointer; color:#fff; }

    @media (max-width:960px) {
      .hamburger { display:block; }
      .nav-links { display:none; flex-direction:column; position:absolute; top:100%; left:0; width:100%; background:rgba(0,0,0,0.95); padding:1.5rem 0; gap:1.4rem; text-align:center; }
      .nav-links.active { display:flex; }
    }

    .collection-hero {
      height:60vh; min-height:500px;
      background: linear-gradient(rgba(0,0,0,0.75), rgba(0,0,0,0.85)),
                  url('https://images.unsplash.com/photo-1558769132-cb1aea458c5e?w=1600') center/cover no-repeat;
      display:flex; align-items:center; justify-content:center;
      text-align:center; margin-top:70px;
    }
    .collection-hero h1 {
      font-size:clamp(3rem,8vw,5rem);
      font-weight:900; letter-spacing:8px;
    }

    .shop-section { padding:clamp(60px,10vw,100px) 0; background:#0a0a0a; }
    .shop-categories { display:flex; flex-wrap:wrap; justify-content:center; gap:12px; margin-bottom:50px; }
    .shop-btn {
      background:transparent; color:#fff; border:1px solid #555;
      padding:10px 24px; border-radius:30px; font-size:1rem;
      cursor:pointer; transition:all 0.3s;
    }
    .shop-btn.active, .shop-btn:hover { background:#fff; color:#000; border-color:#fff; }

    .shop-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
      gap:24px; padding:0 8px;
    }
    .shop-item {
      background:#111; border-radius:10px; overflow:hidden;
      transition:transform 0.3s; cursor:pointer;
    }
    .shop-item:hover { transform:translateY(-8px); }
    .shop-item img { width:100%; height:auto; max-height:320px; object-fit:contain; background:#111; }
    .shop-item-info { padding:15px; text-align:center; }
    .shop-item-name { font-size:1.15rem; margin-bottom:8px; }
    .shop-item-price { font-size:1rem; opacity:0.9; }

    .modal {
      display:none; position:fixed; inset:0;
      background:rgba(0,0,0,0.92); z-index:200;
      justify-content:center; align-items:center; padding:10px;
    }
    .modal-content {
      background:#111; border-radius:10px; max-width:340px; width:90%;
      padding:16px; position:relative; box-shadow:0 15px 40px rgba(0,0,0,0.8);
      text-align:center; overflow-y:auto; max-height:80vh;
    }
    .modal .close-btn {
      position:absolute; top:6px; right:12px; font-size:2.4rem; color:#ff4d4d;
      cursor:pointer;
    }
    .modal img { width:100%; max-height:160px; object-fit:contain; border-radius:8px; margin-bottom:10px; }
    .size-row { display:flex; justify-content:center; gap:7px; flex-wrap:wrap; margin:15px 0; }
    .size-btn {
      background:transparent; border:1px solid #777; color:#fff;
      padding:6px 12px; border-radius:30px; cursor:pointer;
    }
    .size-btn.active, .size-btn:hover { background:#fff; color:#000; }
    .qty-row { display:flex; justify-content:center; gap:12px; align-items:center; margin:15px 0; }
    .qty-btn {
      width:36px; height:36px; border-radius:50%; background:transparent;
      border:1px solid #777; color:#fff; font-size:1.2rem; cursor:pointer;
    }
    .qty-display {
      font-size:1.3rem; min-width:50px; text-align:center;
      background:#222; padding:8px; border-radius:8px;
    }
    .add-btn {
      background:#fff; color:#000; border:none; padding:12px 40px;
      font-size:1rem; border-radius:50px; cursor:pointer;
      position:relative; overflow:hidden;
    }
    .add-btn.added { background:#28a745; color:white; }
    .add-btn span.message {
      position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
      opacity:0; transition:opacity 0.4s;
    }
    .add-btn.added span.message { opacity:1; }
    .favourite-btn { font-size:1.6rem; color:#aaa; cursor:pointer; margin-left:15px; }
    .favourite-btn.active { color:#ff4d4d; }

    footer { padding:60px 0 30px; text-align:center; opacity:0.8; }
  </style>
</head>
<body>

<header>
  <div class="container">
    <nav>
      <div class="brand-text" onclick="window.location.href='index.html'">JACE VOGUE</div>

      <div class="nav-links">
        <a href="index.html" class="back-home-link">Â« BACK TO HOME</a>
        <a href="signup.html">Join us</a>
        <a href="login.html">Login</a>
        <a href="about.html">About</a>

        <a href="cart.html" class="nav-icon" title="Cart">
          ðŸ›’ <span id="cartBadge" class="badge hidden">0</span>
        </a>
        <a href="favourites.html" class="nav-icon" title="Favorites">
          â™¡ <span id="favBadge" class="badge hidden">0</span>
        </a>
      </div>

      <div class="hamburger">&#9776;</div>
    </nav>
  </div>
</header>

<section class="collection-hero">
  <h1>Collections</h1>
</section>

<section class="shop-section">
  <div class="container">
    <h2>All Collections</h2>

    <div class="shop-categories">
      <button class="shop-btn active" data-category="outerwear">Outerwear</button>
      <button class="shop-btn" data-category="dresses">Dresses</button>
      <button class="shop-btn" data-category="shirts">Shirts</button>
      <button class="shop-btn" data-category="pants">Pants & Loungewear</button>
      <button class="shop-btn" data-category="accessories">Accessories</button>
      <button class="shop-btn" data-category="lounge">Lounge</button>
    </div>

    <div class="shop-grid" id="shopGrid">

      <!-- Outerwear examples -->
      <div class="shop-item" data-category="outerwear">
        <img src="https://images.unsplash.com/photo-1558769132-cb1aea458c5e?w=800" alt="Oversized Wool Coat">
        <div class="shop-item-info">
          <div class="shop-item-name">Oversized Wool Coat</div>
          <div class="shop-item-price">$498</div>
        </div>
      </div>

      <div class="shop-item" data-category="outerwear">
        <img src="https://images.unsplash.com/photo-1593795899768-947c4929449d?w=800" alt="Tailored Trench">
        <div class="shop-item-info">
          <div class="shop-item-name">Tailored Trench</div>
          <div class="shop-item-price">$420</div>
        </div>
      </div>

      <div class="shop-item" data-category="outerwear">
        <img src="https://images.unsplash.com/photo-1604176354204-926873b1b2d8?w=800" alt="Leather Bomber">
        <div class="shop-item-info">
          <div class="shop-item-name">Leather Bomber</div>
          <div class="shop-item-price">$520</div>
        </div>
      </div>

      <!-- Dresses -->
      <div class="shop-item" data-category="dresses" style="display:none;">
        <img src="https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=800" alt="Silk Evening Gown">
        <div class="shop-item-info">
          <div class="shop-item-name">Silk Evening Gown</div>
          <div class="shop-item-price">$380</div>
        </div>
      </div>

      <div class="shop-item" data-category="dresses" style="display:none;">
        <img src="https://images.unsplash.com/photo-1621184455862-c163dfb30e0f?w=800" alt="Velvet Midi Dress">
        <div class="shop-item-info">
          <div class="shop-item-name">Velvet Midi Dress</div>
          <div class="shop-item-price">$290</div>
        </div>
      </div>

      <!-- Shirts -->
      <div class="shop-item" data-category="shirts" style="display:none;">
        <img src="https://images.unsplash.com/photo-1604176354204-926873b1b2d8?w=800" alt="Egyptian Cotton Shirt">
        <div class="shop-item-info">
          <div class="shop-item-name">Egyptian Cotton Shirt</div>
          <div class="shop-item-price">$168</div>
        </div>
      </div>

      <!-- Pants & Loungewear -->
      <div class="shop-item" data-category="pants" style="display:none;">
        <img src="https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=800" alt="Tailored Wool Trousers">
        <div class="shop-item-info">
          <div class="shop-item-name">Tailored Wool Trousers</div>
          <div class="shop-item-price">$240</div>
        </div>
      </div>

      <!-- Accessories -->
      <div class="shop-item" data-category="accessories" style="display:none;">
        <img src="https://images.unsplash.com/photo-1593795899768-947c4929449d?w=800" alt="Italian Leather Belt">
        <div class="shop-item-info">
          <div class="shop-item-name">Italian Leather Belt</div>
          <div class="shop-item-price">$120</div>
        </div>
      </div>

      <!-- Lounge -->
      <div class="shop-item" data-category="lounge" style="display:none;">
        <img src="https://images.unsplash.com/photo-1604176354204-926873b1b2d8?w=800" alt="Cashmere Lounge Set">
        <div class="shop-item-info">
          <div class="shop-item-name">Cashmere Lounge Set</div>
          <div class="shop-item-price">$320</div>
        </div>
      </div>

      <!-- Add more items here in the same format if needed -->

    </div>
  </div>
</section>

<footer>
  <div class="container">
    <p>Made in Nigeria with intention Â© 2026 JACE VOGUE</p>
  </div>
</footer>

<!-- Modal -->
<div id="productModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">Ã—</span>
    <img id="modalImage" src="" alt="Product">
    <h3 id="modalName"></h3>
    <p id="modalDescription" class="product-description"></p>
    <p id="modalPrice" class="product-price"></p>

    <div class="controls">
      <div class="size-row">
        <button class="size-btn">XS</button>
        <button class="size-btn">S</button>
        <button class="size-btn">M</button>
        <button class="size-btn">L</button>
        <button class="size-btn">XL</button>
      </div>
      <div class="qty-row">
        <button class="qty-btn">-</button>
        <span class="qty-display">1</span>
        <button class="qty-btn">+</button>
      </div>
      <div id="modalTotal" class="total-price">Total: $0.00</div>

      <div style="display:flex; align-items:center; justify-content:center; gap:30px; margin-top:20px; position:relative;">
 <button id="modalAddBtn" class="add-btn">Add to Cart</button>
        <span id="favouriteBtn" class="favourite-btn">â™¡</span>
        <span id="favMessage" style="position:absolute; top:-40px; left:50%; transform:translateX(-50%); opacity:0; color:#ff4d4d; background:rgba(0,0,0,0.8); padding:6px 12px; border-radius:6px; white-space:nowrap; transition:opacity 0.6s; pointer-events:none;">
          Added to Favorites
        </span>
      </div>
    </div>
  </div>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Cart & Favorites badge updater
function updateBadges() {
  const cart = JSON.parse(localStorage.getItem('cart') || '[]');
  const cartBadge = document.getElementById('cartBadge');
  if (cartBadge) {
    cartBadge.textContent = cart.length;
    cartBadge.classList.toggle('hidden', cart.length === 0);
  }

  const favs = JSON.parse(localStorage.getItem('favorites') || '[]');
  const favBadge = document.getElementById('favBadge');
  if (favBadge) {
    favBadge.textContent = favs.length;
    favBadge.classList.toggle('hidden', favs.length === 0);
  }
}

// Add to cart
function addToCart(item) {
  let cart = JSON.parse(localStorage.getItem('cart') || '[]');
  cart.push(item);
  localStorage.setItem('cart', JSON.stringify(cart));
  updateBadges();
  console.log('Added to cart:', item);
}

// Add to favorites
function addToFavorites(item) {
  let favs = JSON.parse(localStorage.getItem('favorites') || '[]');
  const exists = favs.some(f => f.name === item.name && f.size === item.size);
  if (!exists) {
    favs.push(item);
    localStorage.setItem('favorites', JSON.stringify(favs));
    updateBadges();
    console.log('Added to favorites:', item);
  }
}

// Modal state
let currentItem = null;
let selectedSize = null;
let currentQty = 1;
let basePrice = 0;

function openModal(name, priceStr, desc = '', img = '') {
  currentItem = { name, description: desc, image: img };

  basePrice = parseFloat(priceStr.replace(/[^0-9.]/g, '')) || 0;

  const modal = document.getElementById('productModal');
  if (!modal) {
    console.error('Modal #productModal not found');
    return;
  }

  document.getElementById('modalImage').src = img || 'https://via.placeholder.com/300';
  document.getElementById('modalName').textContent = name;
  document.getElementById('modalDescription').textContent = desc || 'Timeless luxury piece.';
  document.getElementById('modalPrice').textContent = priceStr;

  selectedSize = null;
  currentQty = 1;
  document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
  document.querySelector('.qty-display').textContent = '1';
  document.getElementById('modalTotal').textContent = `Total: $${basePrice.toFixed(2)}`;

  modal.style.display = 'flex';
  console.log('Modal opened:', name, priceStr);
    updateFavoriteHeart();

  // Also refresh heart when user picks a size
  document.querySelectorAll('.size-btn').forEach(btn => {
    btn.addEventListener('click', updateFavoriteHeart);
  });
}

function closeModal() {
  const modal = document.getElementById('productModal');
  if (modal) modal.style.display = 'none';
}

function updateTotal() {
  const total = basePrice * currentQty;
  const totalEl = document.getElementById('modalTotal');
  if (totalEl) totalEl.textContent = `Total: $${total.toFixed(2)}`;
}

// Size buttons
document.querySelectorAll('.size-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    selectedSize = btn.textContent;
    console.log('Size:', selectedSize);
  });
});

// Quantity buttons
document.querySelectorAll('.qty-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    if (btn.textContent === '+') currentQty++;
    else if (btn.textContent === '-' && currentQty > 1) currentQty--;
    document.querySelector('.qty-display').textContent = currentQty;
    updateTotal();
    console.log('Qty:', currentQty);
  });
});

// Add to Cart â€“ fixed and now clickable
// Add to Cart button â€“ clean text replacement
document.getElementById('modalAddBtn').addEventListener('click', () => {
  if (!currentItem) return;

  if (!selectedSize) {
    alert("Please select a size first.");
    return;
  }

  // Create the item to add to cart
  const cartItem = {
    ...currentItem,
    price: `$${basePrice.toFixed(2)}`,
    size: selectedSize,
    quantity: currentQty,
    addedAt: new Date().toISOString()
  };

  addToCart(cartItem);  // this function already exists in your code

  // Change button appearance
  const btn = document.getElementById('modalAddBtn');
  const originalText = btn.textContent;  // remember "Add to Cart"

  btn.textContent = "Added âœ“";           // show success message
  btn.style.backgroundColor = "#28a745"; // green success color
  btn.style.color = "white";
  btn.disabled = true;                   // prevent double clicks

  // After 1.8 seconds, change back to normal
  setTimeout(() => {
    btn.textContent = originalText;
    btn.style.backgroundColor = "#fff";
    btn.style.color = "#000";
    btn.disabled = false;
  }, 1800);  // 1800 ms = 1.8 seconds
});

// Favorites heart
document.getElementById('favouriteBtn').addEventListener('click', () => {
  if (!currentItem) return;

  // Add only if not already there
  const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
  const alreadySaved = favorites.some(f => 
    f.name === currentItem.name && f.size === (selectedSize || 'N/A')
  );

  if (!alreadySaved) {
    addToFavorites({
      ...currentItem,
      price: `$${basePrice.toFixed(2)}`,
      size: selectedSize || "N/A",
      addedAt: new Date().toISOString()
    });
  }

  // Update heart (turns/stays red)
  updateFavoriteHeart();

  // Show popup message for 2 seconds
  const msg = document.getElementById('favMessage');
  msg.style.opacity = '1';
  setTimeout(() => {
    msg.style.opacity = '0';
  }, 1800);
});

// Open modal from shop items
document.querySelectorAll('.shop-item').forEach(item => {
  item.addEventListener('click', e => {
    if (e.target.closest('a') || e.target.closest('button')) return;

    const name = item.querySelector('.shop-item-name')?.textContent.trim() || 'Item';
    const price = item.querySelector('.shop-item-price')?.textContent.trim() || '$0';
    const img = item.querySelector('img')?.src || '';

    openModal(name, price, '', img);
  });
});

// Close modal on outside click
const modalElement = document.getElementById('productModal');
if (modalElement) {
  modalElement.addEventListener('click', e => {
    if (e.target === modalElement) closeModal();
  });
}

// Initialize
updateBadges();
console.log('Collections page loaded. Cart count:', JSON.parse(localStorage.getItem('cart') || '[]').length);

// Shop category filtering
document.querySelectorAll('.shop-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.shop-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const cat = btn.dataset.category;
    document.querySelectorAll('.shop-item').forEach(el => {
      el.style.display = el.dataset.category === cat ? '' : 'none';
    });
  });
});
// Check if current item is already favorited â†’ update heart color
function updateFavoriteHeart() {
  if (!currentItem) return;

  const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
  const heart = document.getElementById('favouriteBtn');

  // Check if this exact item (name + size) exists in favorites
  const isFavorited = favorites.some(item => 
    item.name === currentItem.name && 
    item.size === (selectedSize || 'N/A')
  );

  if (isFavorited) {
    heart.innerHTML = 'â™¥';               // filled heart
    heart.classList.add('active');       // red color (from your CSS)
  } else {
    heart.innerHTML = 'â™¡';               // outline heart
    heart.classList.remove('active');
  }
}
</script>
</body>
</html>